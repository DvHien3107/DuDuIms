@using EnrichcousBackOffice.Areas.Page.Models.Customize;

@{
    var data = Session["BankChangeFormData"] as FormModel.BankChangeForm_Data;
}

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
@if (ViewBag.Error != null)
{
    <p class="text-center"><b>@ViewBag.Error</b></p>
}
else
{
    <form id="BankChangeForm" action="/Page/MerchantFormHandle/ChangeData_BCF">
        <div style="width: 100%;
        background-color: gray;
        padding: 10px;
        font-family: 'Roboto Condensed', sans-serif; font-size:13px">
            <div style="max-width: 800px; margin: auto; background-color: #fff; border: 2px inset; padding:20px">
                <center style="font-size:23px; font-weight:700">CHANGE OF BANK ACCOUNT REQUEST FORM</center>
                <div style=" margin: 20px 40px">
                    <table id="table" border="1" style="width:100%;">
                        <thead>
                            <tr>
                                <th colspan="2">MERCHANT ACCOUNT INFORMATION</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="width:50%"><div class="input-group"><span>DATE:</span> <input name="Date" class="form-control" value="@(DateTime.Now.ToString("MM/dd/yyyy"))" /></div> </td>
                                <td style="width:50%"><div class="input-group"><span>MERCHANT ID NUMBER:</span> <input class="form-control" name="MID" value="@(data?.MID)" onblur="changeData()" /></div></td>
                            </tr>
                            <tr><td colspan="2"><div class="input-group"><span>ACCOUNT OWNER’S NAME:</span> <input class="form-control" name="OwnerName" value="@(data?.OwnerName?.ToUpper())" onblur="changeData()" /></div></td></tr>
                            <tr><td colspan="2"><div class="input-group"><span>BUSINESS NAME (DBA):</span> <input class="form-control" name="BusinessName" value="@(data?.BusinessName)" onblur="changeData()" /></div></td></tr>
                            <tr><td colspan="2"><div class="input-group"><span>PHONE NUMBER:</span> <input class="form-control" name="PhoneNumber" value="@(data?.PhoneNumber)" onblur="changeData()" /></div></td></tr>
                        </tbody>
                        <thead>
                            <tr>
                                <th colspan="2">NEW BANK/DDA/ROUTING INFORMATION</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><div class="input-group"><span>DEPOSIT BANK NAME:</span> <input name="DepositBankName" class="form-control" onblur="changeData()"/></div></td>
                                <td><div class="input-group"><span>WITHDRAWAL BANK NAME:</span> <input name="WithdrawalBankName" class="form-control" onblur="changeData()"/></div></td>
                            </tr>
                            <tr>
                                <td><div class="input-group"><span>DEPOSIT ACCOUNT NUMBER:</span> <input name="DepositAccountNumber" class="form-control" onblur="changeData()"/></div></td>
                                <td><div class="input-group"><span>WITHDRAWAL ACCOUNT NUMBER:</span> <input name="WithdrawalAccountNumber" class="form-control" onblur="changeData()"/></div></td>
                            </tr>
                            <tr>
                                <td><div class="input-group"><span>DEPOSIT ROUTING NUMBER:</span> <input name="DepositRoutingNumber" class="form-control" onblur="changeData()"/></div></td>
                                <td><div class="input-group"><span>WITHDRAWAL ROUTING NUMBER:</span> <input name="WithdrawalRoutingNumber" class="form-control" onblur="changeData()"/></div></td>
                            </tr>

                        </tbody>
                        <thead>
                            <tr>
                                <th colspan="2">MERCHANT SIGNATURE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2">
                                    PURSUANT TO THE TERMS OF THE PRIORITY PAYMENT SYSTEMS MERCHANT SERVICES PROGRAM GUIDE AND THE MERCHANT
                                    PROCESSING APPLICATION AND AGREEMENT (CLIENT AGREEMENT), I (WE) HEREBY AUTHORIZE PRIORITY PAYMENT SYSTEMS LLC
                                    TO INITIATE DEBIT AND CREDIT ENTRIES AND ADJUSTMENTS TO MY (OUR) CHECKING/SAVINGS ACCOUNT, LISTED ABOVE, AS
                                    ALLOWED UNDER THE MERCHANT PROCESSING AGREEMENT AND PROGRAM GUIDE AND UNDER ANY AGREEMENTS WITH OUR
                                    AFFILIATES FOR RELATIVE SERVICES, AS WELL AS ANY ENTRIES IN ERROR. I ALSO AUTHORIZE THE FINANCIAL INSTITUTION,
                                    LISTED ABOVE, TO EFFECT UNTIL I (WE) HAVE GIVEN WRITTEN NOTICE TO THE FINANCIAL INSTITUTION WHERE MY (OUR) ACCOUNT
                                    IS MAINTAINED AND THAT ALL MONIES DUE UNDER THE CLIENT AGREEMENT AND UNDER ANY OTHER AGREEMENTS WITH US OUR
                                    AFFILIATES FOR ANY RELATED SERVICES HAVE BEEN PAID IN FULL.
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <div class="input-group">
                                        <b>
                                            I (MERCHANT) AGREE, BY MY SIGNATURE BELOW, TO THE ABOVE CHANGES AND I FURTHER AGREE TO THESE CHANGES WITH
                                            REGARDS TO PROGRAMMING. I HAVE ENCLOSED A VOIDED PRE-PRINTED CHECK OR BANK LETTER FROM THE NEW BANK
                                            ACCOUNT.
                                        </b>
                                        @*<input name="BankAccount" class="form-control" onblur="changeData()"/>*@
                                    </div>
                                </td>
                            </tr>
                            <tr><td colspan="2"><div class="input-group"><span>MERCHANT SIGNATURE:</span> <input name="Signature" class="form-control" onblur="changeData()"/></div></td></tr>
                        </tbody>
                    </table>
                    <div style="padding:10px 15px">
                        <span>
                            <b>NOTE: </b>
                            TEMPORARY CHECKS ARE NOT ACCEPTABLE, A VOIDED PRE-PRINTED CHECK OR A BANK LETTER FOR THE NEW
                            ACCOUNT MUST BE ATTACHED (IF MAILED) OR FAXED ALONG WITH THIS FORM TO THE FAX NUMBER ON THE BOTTOM.
                            IF THE NEW PRE-PRINTED CHECKS ARE NOT READY AT THE TIME OF SUBMITTING THIS FORM, PLEASE ENCLOSE A LETTER
                            FROM YOUR BANK. THIS LETTER MUST BE ON THE BANK’S LETTERHEAD, WITH YOUR BUSINESS NAME AND ADDRESS
                            LISTED ALONG WITH THE OWNER’S FULL NAME AND THE NEW BANK ACCOUNT AND ROUTING NUMBERS.
                        </span>
                    </div>
                    <b><i>**THIS LETTER MUST BE SIGNED BY A BANK OFFICER, FOR THIS REASON EMAILS FROM THE BANK ARE NOT ACCEPTABLE**</i></b>
                    <div style="padding:10px 20px">
                        <span style="color:#3C75BD">
                            IF YOU HAVE CHANGED THE CORPORATE NAME, OWNERSHIP, PARTNERS OR CHANGED FROM SOLE PROPRIETOR TO
                            CORPORATION, YOU MUST FILL OUT A NEW MERCHANT APPLICATION.
                        </span>
                    </div>
                    <div style="padding:10px 20px;text-align:center"><b><i>**REQUIRED DOCUMENTATION: PRE-PRINTED VOIDED CHECK OR BANK LETTER**</i></b> </div>
                </div>

            </div>
        </div>
    </form>
}
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<style type="text/css">
    #table, th, td {
        border: 1px solid #494849;
        padding: 5px 15px;
    }

        #table th {
            text-align: center;
            background-color: #494849;
            color: #fff;
            font-weight: 400;
            font-size: 14px;
        }

        #table td {
            font-size: 12px;
        }

    #table {
        border-collapse: collapse;
    }

        #table span {
            line-height: 24px;
        }

        #table td input {
            font-size: 14px !important;
            padding: 0 5px !important;
            height: 24px !important;
        }
</style>
<script type="text/javascript">
    $(function () {
        changeData();
    })
    function changeData() {
        $("#BankChangeForm").submit();
    }

    $("#BankChangeForm").submit(function (e) {
        e.preventDefault(); //avoid to execute the actual submit of the form.
        var form = $(this);
        var url = form.attr('action');

        $.ajax({
            type: "POST",
            url: url,
            data: form.serialize(), //serializes the form's elements.
            success: function (data) {
                //alert(data); // show response from the php script.
            }
        });
    });

</script>
