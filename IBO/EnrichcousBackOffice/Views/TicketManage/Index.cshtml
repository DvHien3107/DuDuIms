
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/css/TicketManage/mainTicket.css" rel="stylesheet" />
<link href="/Content/Admin/bower_components/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet" />
<style>
    input#date_search {
        /* height: 100%; */
        min-height: 100%;
        max-height: 100%;
        display: flex;
        flex-direction: row;
        height: 45px;
        border-radius: 0 30px 30px 0;
    }

    .ticket-header_select .input-group-addon {
        border-radius: 0;
        border-color: #d2d6de;
        /* background-color: #fff; */
        border-radius: 30px 0 0 30px;
    }

    .tags {
        border-radius: 5px;
        width: max-content;
        font-size: 9px;
        padding: 3px;
        font-weight: 700;
        color: white;
    }

    .memberItem {
        border-radius: 100px;
        width: max-content;
        padding: 5px;
        color: white;
        background: var(--gauzy-background-transparent);
    }

        .memberItem img {
            width: 16px;
            height: 16px;
            border-radius: 100px;
        }
</style>
<div class="ticket-manage_content">
    <div _ngcontent-ng-c231674514="" class="card-header-title">
        <h4 _ngcontent-ng-c231674514="">
            <ngx-header-title _ngcontent-ng-c231674514="" _nghost-ng-c3392879810="">
                <span id="typeName">@ViewBag.Type</span> tickets of <span id="departmentName">@ViewBag.Department</span>
            </ngx-header-title>
        </h4>
    </div>

    <div class="ticket-manage_header">
        <div class="ticket-header_button">
            @*<a _ngcontent-ng-c231674514="" href="/ticket/update?Page=DevelopmentsTicket" nbbutton="" status="success" size="small" aria-disabled="false" tabindex="0" class="status-success appearance-filled size-small shape-rectangle icon-start ng-star-inserted nb-transition"><nb-icon _ngcontent-ng-c231674514="" icon="plus-outline" _nghost-ng-c599426063=""><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" class="eva eva-plus-outline" fill="currentColor"><g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"></path></g></g></svg></nb-icon> Add </a>*@

            <button onclick="location.href='/ticket/update?Page=@ViewBag.DepartmentId'" _ngcontent-ng-c231674514="" nbbutton="" status="success" size="small" aria-disabled="false" tabindex="0" class="status-success appearance-filled size-small shape-rectangle icon-start ng-star-inserted nb-transition"><nb-icon _ngcontent-ng-c231674514="" icon="plus-outline" _nghost-ng-c599426063=""><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" class="eva eva-plus-outline" fill="currentColor"><g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"></path></g></g></svg></nb-icon> Add </button>
        </div>
        <div class="ticket-header_label">
            <div class="ticket-header_select">
                <div class="input-group">
                    <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                    </div>
                    <input type="text" class="form-control  search-change" id="date_search">
                </div>
            </div>
            <div class="select ticket-header_select">
                <select>
                    <option value="1">All Status</option>
                </select>
            </div>
           
        </div>
    </div>

    <div class="ticket-manage_body">
        <div class="ticket-manage_table">
            <div class="col-sm-12">
                <table class="table table-list-ticket table-hover table-bordered table-striped dataTable no-footer" id="DataTables_Table_0" role="grid">
                    <thead>
                        <tr role="row">
                            <th class="no-sort sorting_disabled" rowspan="1" colspan="1" aria-label="#">#Id</th>
                            <th data-name="Date" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1">Title</th>
                            <th data-name="Name" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" id="target-project">Project</th>
                            <th data-name="Type" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1">Assigned</th>
                            <th class="no-sort" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Assigned: activate to sort column ascending">Teams</th>
                            <th data-name="StatusName" class="relative" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1">Created At</th>
                            <th class="no-sort updated-td sorting_disabled" rowspan="1" colspan="1" aria-label="Due Date">Due Date</th>
                            <th data-name="License" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Licenes: activate to sort column ascending">Status</th>
                        </tr>
                        <tr role="row">
                            <th class="no-sort sorting_disabled" rowspan="1" colspan="1" aria-label="#">
                                <input class="form-control ng-untouched ng-pristine ng-valid" placeholder="ID">
                            </th>
                            <th data-name="Date" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1">
                                <input class="form-control ng-pristine ng-valid ng-touched" placeholder="Title">
                            </th>
                            <th data-name="Name" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"></th>
                            <th data-name="StatusName" class="relative" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"></th>
                            <th data-name="Type" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1">
                                <input class="form-control ng-untouched ng-pristine ng-valid" placeholder="Assigned">
                            </th>
                            <th class="no-sort" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"></th>
                            <th class="no-sort updated-td sorting_disabled" rowspan="1" colspan="1" aria-label="Last Updated"></th>
                            <th data-name="License" class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"></th>
                        </tr>

                    </thead>
                    <tbody id="list_tickets">

                        <tr class="tr-ticket-item odd" role="row">
                            <td>#...0661</td>
                            <td><div>[title]</div> <div>[tags]</div></td>
                            <td>[Project]</td>
                            <td class=" relative">[Create At]</td>
                            <td>[Assigned]</td>
                            <td>[Teams]</td>
                            <td class="">
                                [Due Date]
                            </td>
                            <td>
                                [Status]
                            </td>
                        </tr>
                    </tbody>

                </table>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script src="~/Content/Admin/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="~/Content/Ticket/TicketManage/mainTicket.js"></script>
<script>
    $('#date_search').daterangepicker(
        {
            "showDropdowns": true,
            "minYear": 1950,
            "maxYear": 2050,
            "autoApply": true,
            //"alwaysShowCalendars": true,
            "ranges": {
                'Today': [moment(), moment()],
                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                'Nearest 3 months': [moment().subtract(3, 'month').startOf('month'), moment()],
                'This Year': [moment().startOf('year'), moment().endOf('year')],
                'Last Year': [moment().subtract(1, 'year').startOf('year'), moment().subtract(1, 'year').endOf('year')]
            },
            "locale": {
                "customRangeLabel": "Custom Date",
                "format": "MMM D, YYYY",
            },
            "startDate": mainTicket.startDate,
            "endDate": mainTicket.endDate,
        }, function (start, end, label) {
            mainTicket.startDate = start
            mainTicket.endDate = end
            mainTicket.getDataTicket();
            //console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
    });

    mainTicket.getDataTicket();
</script>